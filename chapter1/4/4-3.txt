mariadbのCOALESCE関数の構文と仕様

仕様
・欠損値をデフォルト値で置き換える
・式を左から右に評価する
・最初の式がNULLでない場合、後続の式は評価されない
・NULLと空文字列("")は区別される。空文字列("")はNULLではない値とみなされる。

構文
COALESCE(expr1, expr2, ..., exprN)
・expr1: 最初に評価される式。
・expr2: expr1 がNULLの場合に評価される式。
・...: 省略可。exprN は、expr1 から exprN-1 までが全てNULLの場合に評価される式。



mariadbのNULLIF関数の構文と仕様

仕様
2つの式を比較し、等しい場合にNULLを返し、そうでない場合は最初の式を返す。
データの比較において、特定の値を無視したい場合などに役立つ。
・比較対象となる式は、文字列、数値、日付など、あらゆるデータ型で使用できます。
・NULLと比較する場合は、=演算子ではなくIS NULL演算子を使用する必要があります。
・NULLIF関数は、CASE WHEN構文で同様の処理を実現できます。

構文
NULLIF(expr1, expr2)
・expr1: 比較対象となる最初の式
・expr2: 比較対象となる2番目の式

戻り値
・expr1とexpr2が等しい場合: NULL
・expr1とexpr2が等しくない場合: expr1